---
layout: default
---

# PDU 去中心化的社交网络服务 (version 3)
A decentralized social networking service

* App beta: [https://testflight.apple.com/join/FqQGxhbn](https://testflight.apple.com/join/FqQGxhbn)
* github: [github.com/pdupub](https://github.com/pdupub)
* email: pdupub@gmail.com
* wechat: pengpengt00
* telegram: [@PDUPUB](https://t.me/pdupub)
* telegram group: [@PDUGroup](https://t.me/pdugroup)
* twitter: [@PDUPUB](https://twitter.com/pdupub)

[![License](https://img.shields.io/badge/license-GPL%20v3-blue.svg)](LICENSE)
[![Chat](https://img.shields.io/badge/gitter-Docs%20chat-4AB495.svg)](https://gitter.im/pdupub/Welcome)

**摘要：** 自然状态的社交网络应当具备两个基础功能，参与者能够自由的发布信息，同时也能够有效的获取信息。去中心化系统及数字签名已经能够实现信息的自由发布，但如果参与者无法对发布者身份进行筛选，则冗余信息会阻塞传播过程使得系统不可用。本文提出一种在不需要中心化身份验证的情况下实现发布者身份的定义及筛选的方案。所有消息均可通过引用其他消息的签名来表述与之前后关系，再由数字签名将关系固定在此消息之上。通过这种关联，系统中的消息构成多个全序和偏序关系。我们以全序的消息为基础来定义账户，账户拥有者可以基于身份的自我认同来建立并扩展自身所属族群。参与者在系统中可以根据族群及认定关系对于陌生身份进行筛选，并基于此实现信息的有效获取。


<!-- MarkdownTOC depth=4 autolink=true bracket=round list_bullets="-*+" -->
- [简介](#简介)
  * [现状](#现状)
  * [目标](#目标)
  * [前提](#前提)
- [消息](#消息)
- [个体](#账户)
- [族群](#族群)
  * [规则](#规则)
  * [说明](#说明)
- [网络传播](#网络传播)
- [奖励和惩罚](#奖励和惩罚)
- [隐私](#隐私)
- [总结](#总结)
- [附录](#附录)
<!-- /MarkdownTOC -->

## 简介

### 现状

口耳相传是最原始的信息传播方式，也是完全自然的信息传播方式。将见闻、感受通过语言的形式依照自身意愿传递给他人，并反复这个过程让信息在群体中逐步扩散。文字的发明在时间和空间两个维度上拓展了信息传播的边界。当今，随着网络的发展，信息的传播效率有了质的变化，基本摆脱了时间与距离等物理条件的桎梏。

如同信件传递依赖邮政系统，现今网络中信息的传播大多依赖于某个中心化服务，如Facebook、Twitter、微信、微博等。此类服务的存在毋庸置疑给使用者带来了极大便利，但问题也逐渐显露。服务提供者有能力按照其自身的意愿，对信息的传播做出决定性的影响，比如有倾向性的增大或减小某个类别信息的传播受众，直接禁言或删除某些用户，同时对于另一些虚假用户无所作为等。中心化的服务提供者对信息传播的影响程度只受限于其规模和意愿。

如果希望信息传播能够回归自然状态，使用者并非必须放弃中心化的服务，而是需要能够摆脱对于中心化平台的依赖。

### 目标

我们认为，一个自然的信息传播系统应具备两个基础功能：

1. 任何参与者都能够**自由的发布信息**。
2. 任何参与者都能够**有效的获取信息**。

现有的去中心化系统及数字签名已经可以实现信息的自由发布，使用者可以很容易的生成秘钥对信息进行数字签名以表示信息来源，然后通过类似BitTorrent或eMule等软件进行发布。但与分享多媒体资源不同，在社交网络中参与者想要获取的信息是未知的内容，而非已知的某部影片或书籍的数据。其试图解决的问题也不同，P2P分享系统的目的是减小数据传输过程中中心服务器资源消耗，而非让参与者能够对未知信息进行有效筛选。而中心化的社交平台，则通过对于用户注册时的身份核验来过滤用户，并以用户为单位对信息进行归类，以提高使用者对于系统中信息的获取效率。在去中心化系统中，用户同样也可以根据签名，对于信息进行归类，区别在于无法对用户的身份进行核验。在这种情况下，即便由于垃圾信息对于某个来源进行评比，恶意的信息发布者依然可以制造更多的秘钥签发类似的冗余信息。

所以要摆脱在信息传播过程中对于中心化平台的依赖，就要找到一种方式在去中心化的系统中替代用户的身份核验过程。并非实现，而是达成近似的结果，即让信息获取过程感受到的是一个相对可控且变动的身份集合。

本文参照现实中自然的信息传播过程提出一种新的解决方案。首先，系统中的每一条消息必须附加数字签名以确认信息的来源。系统中的所有消息根据其之间的引用关系，可构建出一个或多个偏序关系，用以确定系统中信息的时序。来自同一秘钥或同一组秘钥签名的所有消息通过引用可构成全序关系，我们将具备此种全序关系的消息序列视为单一账户身份。账户通过发布消息可以自由的创建族群，也可通过消息表达自身认定其他账户身份也属于自身所属的某个族群。族群和族群中账户间的认定关系也将成为账户筛选的依据。

### 前提

为简化后续的讨论，我们首先提出两个前提：

1. 系统中所有信息都是公开的，保密信息的传递不是本系统所尝试解决的核心问题，但可以基于本系统解决。
2. 系统的参与者都以信息传播的程度为唯一利益衡量。传播程度即包含时间尺度，也包含空间尺度。使用者希望信息在更快的被更多的受众获取。

## 消息

消息是系统中最基础的数据结构，也是点对点之间唯一进行直接交互的数据类型。系统所涉及的其他数据类型，如账户、族群等，均可用消息为基础在各个节点自行生成。消息包含3个组成部分，消息内容(Contents)，引用列表(References)及签名(Signature)。

### 消息内容
消息内容是消息的主体，由消息类型和多个内容片断构成。目前系统中包含5种消息类型:

* 信息消息/Infomation: 主要的消息类型，用于发布信息。内容可以包含文字，图片，音频等不同格式的内容片断。
* 累加消息/Integration: 可用于记录使用者自身属性或如账户信息等状态类信息。对于同一关键字，后续值会覆盖之前的值。
* 族群定义/Speciation: 用于创建新的族群，后续可以与族群认定的消息类型合并。
* 族群认定/Identification: 用于认定其他账户也可属于本身所属的指定族群。
* 结束账户/Termination: 用于当前账户因秘钥泄露或其他某种原因希望系统能够忽略其后续消息时使用。

需要注意的是，族群的建立和认定来自于消息的发布者，但对于是否承认某个身份属于特定族群，其依赖于信息获取者的自身意愿。

### 引用列表
引用列表中可包含多条消息的签名，用以确定消息之间的有序关系。

消息可将任意已知的消息签名放入本消息的引用列表中，再计算hash后添加签名，用以证明本消息必然发生于被引用的消息之后。如果当前账户已经签发过消息，系统要求在引用列表中**必须**包含此账户之前签名的最后一条消息得签名。在使用过程中，**推荐**在引用列表中还至少包含一条比较新的消息，目的是给当前消息一个时序上更精确的可验证范围。

同一来源的所有消息间应确保通过引用的方式构成全序关系，即任意两条被同一账户签名的消息，都具有确定的先后顺序。不同来源的消息可借助相互的引用，构成一个或者多个偏序关系，可用有向无环图(DAG)表示。

### 签名
签名的存在可以对消息来源进行身份认证并确定消息内容的完整性。消息签名还被作为消息标志被放入后续消息的引用列表中，表示消息间的有序关系。

![msgs](../res/MsgLink.jpeg)

上图展示每个消息的构建及引用关系。

## 账户

账户与秘钥并非一一对应的关系，单一账户可以具备一个或者多个秘钥。一个系统的使用者可以创建多个账户，或者多个使用者操作同一账户的情况存在，所以账户与使用者之间也没有必然关系。系统中定义的账户身份是由一组呈全序关系的消息所表示，以信息传播最大化为唯一目的，能够感知外部奖惩而修正未来自身行为的最小的单位。

![msgs](../res/Individual.jpeg)

单独消息可以被看做是一个已经存在的孤立客观事件，其本身的内容不会因收到奖惩而改变，也无法表现出对传播的渴望。我们将系统中具备全序特征的所有消息视为账户，来实现自身的目的并接收外界的反馈。

对于从系统中获取信息的使用者而言，可以通过对于账户的区别对待来表达奖励或惩罚。例如使用者会更积极的获取和传播自己喜好的信息并关注其账户未来发布的消息。反之，也可以通过屏蔽等方式，减小此账户的传播。对于账号拥有者而言，由于信息接收者可以根据账户身份来屏蔽信息，所以生产大量无意义的信息虽然未被禁止，但却因无法传播而失去了意义。

我们认为由于秘钥创建的不受限及匿名等特性，账户的存在不会妨碍使用者信息发布的自由，即积极自由。同时账户的存在为信息筛选提供了标记，是支持系统使用者有效获取信息的基础，一定程度上保障了使用者的消极自由。

## 族群

### 规则

族群作为账户之间关系的基本组织形态，是去中心化社交系统的必要部分。借助族群，系统使用者才能在没有信息发布限制的同时借由账户筛选有效信息。前面我们以签名为标志在消息间建立联系，并将之视为账户，用来筛选消息。本节中的族群就是通过认定关系在用户间建立联系，并将构成的用户集合视为族群。需要说明的是，族群的存在的主要目的就是帮助系统参与者对于可能感兴趣的账户进行筛选，并不直接作用于消息传播的过程。

族群的创建及参与应符合以下规则：

1. 每个账户都可以按照自身意愿创建任意多个族群，每条族群定义消息创建一个族群并说明其含义，创建者默认为族群内账户。
2. 加入族群，只能通过被现有成员账户认定的方式。信息获取者可根据认定消息，自行判断族群成员。
3. 族群的存在只是账户筛选的基础，系统使用者可以自主的屏蔽任何族群中的任何账户，和任何关联账户。

### 说明

我们认为传统的中心化平台不仅是提供社交网络服务的技术平台，更重要的是提供了一个中心化的权威，由其定义规则并依照这些规则对用户进行评判。而在我们提出的去中心化社交服务系统中，族群并不存在任何单一的判定权威，族群内的账户身份是完全平等的。包含创建者在内，任何账户均没有任何特殊权力。任何账户都可以同时属于多个族群，每个族群中的账户都基于其自我角色认同，认定其他账户加入族群。举例来说我的账户可以同时属于「程序员族群」和「朝阳群众族群」，当我通过浏览消息发觉某个账户A经常发布有用的朝阳本地信息时，我便会认定其属于「朝阳群众族群」，但并不会认定他属于「程序员族群」。需要强调的是，当账户获得了加入某族群认定后只表达了这个族群对此账号的认同，并不表示这个账号对于此族群的认同。还有要说明的是，族群是对于账户身份的界定，而非消息内容。所以在使用过程中，族群的含义更倾向于物种归类，而非某种爱好。

对于消息发布者而言，被认定加入更多的族群表示自己被更大范围的承认，有利于自身的信息传播。对于信息获取者而言，族群的存在给予其更好的信息筛选基础，结合由认定关系构成的族群内账户间关联，能够有效的屏蔽过滤账户。

## 网络传播

社交系统应具备两个基本功能即**自由的发布信息**和**有效的获取信息**。在传统的中心化服务中，消息的发布及获取都是以用户身份为基本单元，但是在去中心化的社交系统中却略有不同。账户为每条消息添加对应的签名，成为发布信息的基本单元。而节点被作为获取信息的基本单元，并通过相互的连接构成网络，实现信息的自然传播。

节点和账户不存在任何强制性的绑定关系，信息的获取者无需任何账户均可以使用或构建节点。节点的作用在于可自由选择如何处理收到的信息，如接收（保存），拒绝（屏蔽）或者传播（转发）。每个节点可以保存任意部分消息而非全量。传播过程支持平台化节点的存在，他们可以存储更多的消息，并为使用者提供消息查询、搜索等服务。但区别于传统的中心化第三方平台，本系统中的所有消息属于发布者，而且完全公开，所以使用任何一个第三方平台都可获取到相同的信息。当然，任何节点也有对特定消息按照自身意愿屏蔽的自由。

系统建议节点判断是否接收某个消息时参考以下因素：
1. 消息来源账户是否被屏蔽。
2. 消息引用所代表的时间，不晚于某个特定的期限。

系统建议节点判断是否转发某个消息时参考以下因素：
1. 消息内容本身，某种意义上类似于传统三方平台点赞和评论的行为影响。
2. 节点自身的转发规则，比如当前节点是否倾向于转发未被广泛扩散的消息或某特定领域的消息。

需要注意，消息的传播过程是持续动态变化的，系统中的每个节点都可能在任何时刻传播，存储或删除任何消息。

## 奖励和惩罚

我们相信任何可持续运行的系统都应该包含两个要素，即**必要的共识规则**和**合理的利益驱动**。所有参与者对于规则的认同，是构成系统的基础，或者说任何系统都是由认同某些同样规则的个体所组成。而合理的利益驱动则是系统参与者行为的原因，其不会改变，规则只有符合参与者的利益系统才能持续。以上两点并非特指去中心化的系统。通过定义**消息**、**账户**和**族群**的概念，我们已经为构建去中心化的信息传播系统提供了足够的规则。本节中我们进一步解释，为何基于这些规则，系统能够符合参与者的利益以使得系统持续的运行。

在[简介](简介)中我们提出过一个前提设定，即系统的参与者都以信息传播的程度为唯一的利益衡量，所有在本节的讨论中，我们也会以此为基础来解释用户行为对于互相之间的影响。我们认为一个系统的参与者对于其他参与者的奖励以帮助其消息扩散的方式体现，反之，惩罚则表现为自身对其消息屏蔽。就系统整体而言，对于每个账户的奖惩最终会表现为消息传播的速度与广度的预期。就个体而言，奖惩完全取决于每个节点对其他用户及消息的主观意愿，但由于所有节点拥有者都是平等的，即不存在某个节点有权力替代别的节点做出传播或屏蔽的决定，所以此种主观决断并不影响信息的自然扩散。

需要特意指出，系统中还会出现一种可能被忽视的恶意行为，即通过引用关系，存在无法判断先后顺序的同源的消息。相当于由这个账户添加签名的已知消息可构成偏序关系但却无法构成全序关系。我们之所以将这种情况视为恶意行为，因为这种情况会使得系统失去将由此账号签发的系列消息视为单独个体账户的理论基础。对于这种情况，我们建议的处理方式如下：

1. 一旦发现出现这种情况，应屏蔽此账户，不再接收其后续消息。
2. 对于已接收的消息，尽量以先被本系统接收的不矛盾消息为准，但也可主观选择。
3. 在发布消息时，应尽量引用多个可信的异源账户发布的消息，避免这种情况对自身的影响。
4. 将已接收的包含矛盾引用的消息视为包含未知引用的情况进行处理。

我们也可以预见族群作为用户筛选工具，其存在对于消息传播的影响，这种影响并不是直接的、强制性的，但却是十分巨大的。总之，与传统的中心化社交系统不同，我们将信息的筛选判断的权利交给每个系统的参与和他们之间的关联关系，每个系统参与者都可以有自己的选择，而非只能接收某一个中心化的判断。

## 隐私

如简介中所述的第一个前提设定，系统中所有的信息都是公开的，我们认为绝对的**隐私**并非真正存在。

任何传播过的消息都会以某种方式留下痕迹，可能被一些节点存储，或者被另一些消息所引用。而未留下丝毫痕迹的信息，因为其并未对系统产生任何影响也就完全等同于并不存在。信息的传播的速度和广度取决于信息本身，所谓隐私只是公开程度限于某个暂时的，且无法保证的臆想。其后果往往不是信息的保密，而是扭曲后的继续扩散。

保护隐私的偏好来源于思维方式的局限，认为整体的利益破坏在于整体对于隐私的探查，但我们认为不公来源于并非所有的消息都**同等**程度的完全**公开**，现实中只有部分的个体的信息能够被另一部分个体所知，反之而不可能。真正的隐私只有个体心中从未表达过的信息，其不需要任何系统以任何形式进行保护。而公开的，有过传播的信息，都应该被准确的记录、公开。

对于通常意义上的隐私信息，我们认为其不直接属于这个系统。对于涉及隐私的文章，不推荐创建消息，即使是以加密的形式。因为在别人看来无意义的信息会影响账户其他信息的传播。对于涉及隐私的通讯，可以以消息的形式公布自己的联系方式，再通过其他方式进行联系。


## 总结

我们认为单独创建去中心化账户系统(DID)的方式是不可行的。因为在去中心化的系统中，账户创建过程无法附带一个合理且能被其他使用者验证的成本。使用者无法像中心化平台一样，验证其他用户的手机号、邮箱等与其真实身份关联的信息。同时，系统也无法像比特币一样以算力作为账户创建成本，因为算力作为成本对应的必然是需要绝对一致性的系统整体，而非单个行为。所以我们放弃了账户创建过程中可验证的客观成本，而将其转变为由发布的内容所附带的主观成本，并据此构建去中心化的社交服务。

我们利用数字签名及相互引用，将具备全序的消息组合为代表某个特定意志的账户，并基于账户的自我认同，构建出族群这种具备关联关系的账户集合。通过这两个层级关系，彻底解决了在点对点的信息传播过程中，信息无法筛选的问题。使得系统使用者在能自由创建消息的同时，也有能力在海量的数据中选取自己需要的内容。点对点的系统本身就保证了用户的积极自由，任何人可以依照自身意愿发布信息。我们再此文中提出的系统也给予了用户保护自身消极自由的方式，减少其所受冗余数据的影响。

与主流的保护用户隐私的想法不同，我们认为任何发生在不同个体间的信息交流，都会留下存在的痕迹。现今的问题根本上源于个体间信息披露的程度不公平。

## 附录

1. PDU之禅

* 事件通过有向关联确定偏序关系。
* 全序事件集合可被视为单一个体。
* 群体的构成源于个体的自我认知。
* 系统世界决定于个体的主观感知。

2. PDU的实现

* [go-pdu](https://github.com/pdupub/go-pdu)
* [iOS App beta](https://testflight.apple.com/join/FqQGxhbn)


[back](../../)

<a href="https://pdu.pub"><img height="32" align="right" src="https://pdu.pub/assets/img/logo.png"></a>
